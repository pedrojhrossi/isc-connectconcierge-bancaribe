<div class="qm-flow-sub-header">

  <div class="qm-identify-visit-search" dir="{{ userDirection$ | async }}">
    <div class="qm-identify-visit-search__search-container">
    <input class="qm-identify-visit-search__input" type="search" placeholder="{{ 'search_queue' | translate }}" id="visitSearch" name="q" [ngModel]="searchText" (input)="SearchVisit(visitSearch.value.trim())"   #visitSearch autocomplete="off"> 
    <i *ngIf="visitSearch.value.trim()" (click)="visitSearch.value = ''" class="icon-close qm-clear-search" aria-hidden="true"></i>

    </div>
  </div>

</div>


<div class="qm-queue-list__container">
    <div class="qm-queue-list">
        <div class="qm-queue-list__headers qm-flex-grid">
          <div class="qm-queue-list-header-item qm-col qm-flex-grid" (click)="onSortClickbyQueue()">
            <div>
              <i class="icon-queue" aria-hidden="true"></i>
            </div>
            <div class="qm-queue-list-header-item-label">{{'queue_view_queue_label' | translate}}</div>
            <div><i  *ngIf="sortedBy =='Queue'" class="sort-icon" [ngClass]="{'icon-caret-up': sortAscending === true, 'icon-caret-down': sortAscending !==  true }"></i></div>
          </div>
          <div class="qm-queue-list-header-item qm-col qm-flex-grid" (click)="onSortClickbyWaitingCustomers()">
            <div>
              <i class="icon-customer-solid" aria-hidden="true"></i>
            </div>
            <div class="qm-queue-list-header-item-label">{{'queue_view_waiting_customers_label' | translate}}</div>
            <div><i *ngIf="sortedBy =='WaitingCustomers'" class="sort-icon" [ngClass]="{'icon-caret-up': sortAscending === true, 'icon-caret-down': sortAscending !==  true }"></i></div>
          </div>

          <div class="qm-queue-list-header-item qm-col qm-flex-grid" (click)="onSortClickbyMaxWaitTime()">
              <div>
                <i class="icon-customer-solid" aria-hidden="true"></i>
              </div>
              <div class="qm-queue-list-header-item-label"> {{ 'queue_view_max_wait_time_label' | translate}} </div>
              <div><i  *ngIf="sortedBy =='MaxWaitTime'" class="sort-icon" [ngClass]="{'icon-caret-up': sortAscending === true, 'icon-caret-down': sortAscending !==  true }"></i></div>
          </div>
          <div class="qm-queue-list-header-item qm-col qm-flex-grid" (click)="onSortClickbyEstimatedWaitTime()">
              <div>
                <i class="clock-icon" aria-hidden="true"></i>
              </div>
              <div class="qm-queue-list-header-item-label"> {{ 'queue_view_estimated_wait_time_label' | translate}} </div>
              <div><i *ngIf="sortedBy =='EstWaitTime'" class="sort-icon" [ngClass]="{'icon-caret-up': sortAscending === true, 'icon-caret-down': sortAscending !==  true }"></i></div>
          </div>
        
        </div>
      
        <div class="qm-queue-list__body">
          <div *ngFor="let q of queueCollection" [class.qm-dropdown]= "DropDownselectedQueue==q" >
          <div  class="qm-flex-grid qm-queue-list-body-row" (click)="selectQueue(q)">
              <div class="qm-col qm-queue-list-body-row-label">{{q.queue}}</div>
              <div class="qm-col">{{q.customers }}</div>
              <div class="qm-col max-wait-time-container">
                <div><i class="icon-alert-star max-wait-time" [ngClass]="{'gray-indicator': queueIndicator.isGrayIndicator(q), 'red-indicator': queueIndicator.isRedIndicator(q), 'yellow-indicator': queueIndicator.isYellowIndicator(q)}"></i></div>
                <div> {{q.max_w_time }}</div>
              </div>
              <div class="qm-col">{{ q.esnpmt_w_time || '-' }}</div>
          </div>
          <div class="qm-flex-grid qm-queue-dropdown" *ngIf="DropDownselectedQueue==q">

            <div class="qm-col" *ngIf = "btnTransferFirst" (click)="OnTransferButtonClick('FIRST')">
                <span class="queue-tray-option queue-transfer-first-btn"><svg class="qm-queue-transfer-first" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 115.14 80"><defs><style>.cls-1 {fill: #2f2f2f;}</style>
                </defs><title>TransferFirst</title>
                <g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M19.32,7.84A8.33,8.33,0,0,1,23.44,5a8.66,8.66,0,0,1,2.18-.3A8,8,0,0,1,31.5,7.3,9.46,9.46,0,0,1,34,13.82v0a9.32,9.32,0,0,1-5.3,8.64,7,7,0,0,1-3.72.64,7.66,7.66,0,0,1-3.9-1.48,7.88,7.88,0,0,1-1.5-1.38l-.12-.12c-.1-.14-.2-.26-.4-.54a9.62,9.62,0,0,1-1.52-3.3,9.83,9.83,0,0,1-.32-2.44A9.6,9.6,0,0,1,19.32,7.84ZM115.1,67.76c-1.06-9-3-12.54-8-17.84-5.26-5.54-12.2-7-15.38-7.36A18.27,18.27,0,0,1,86.6,46a16.31,16.31,0,0,1-6.84,1.52c-.54,0-1.08,0-1.62-.08a17.39,17.39,0,0,1-8.76-3.32,19.48,19.48,0,0,1-1.9-1.6c-2.82.2-10.64,1.36-16.38,7.5-3.16,3.32-5.1,6-6.36,9.72a.38.38,0,0,1,0,.14l-1.5-.14c-6.48-.64-14.48-2-17.72-4.36a2.36,2.36,0,0,1-.68-.66c.16-1.34.34-2.5.56-3.5A14.23,14.23,0,0,1,27,46.52,20.74,20.74,0,0,1,30.3,42.4a17,17,0,0,1,10.3-4.86,15.62,15.62,0,0,0,5.64,2.14,22.6,22.6,0,0,0,4.24.42H51l.84-.06a19,19,0,0,0,8.06-2.26c.16-.1.3-.2.46-.28a15.71,15.71,0,0,1,2.4.44c.42.1.88.24,1.38.4l1.28.88a13.24,13.24,0,0,0,1,1.28,20.49,20.49,0,0,0,3.18,3,17.51,17.51,0,0,0,6.1,2.84,15.17,15.17,0,0,0,2.5.4c.3,0,.6.06.88.08A15.09,15.09,0,0,0,82,46.62a15.73,15.73,0,0,0,4.44-1.3A19.57,19.57,0,0,0,97.58,27.2a19.84,19.84,0,0,0-5.3-13.62,17.3,17.3,0,0,0-12.7-5.66,18.28,18.28,0,0,0-4.72.66,17.43,17.43,0,0,0-8,5,13.62,13.62,0,0,0-1,1.14,11.85,11.85,0,0,0-.74,1l.08.3a16.53,16.53,0,0,0-1,1.58A18,18,0,0,0,62.58,21a18.93,18.93,0,0,1,2.16-4.7c.14-.2.26-.42.42-.62l-.06-.24a11.35,11.35,0,0,0-.44-1.4,15.81,15.81,0,0,0-3.4-5.56,14.7,14.7,0,0,0-10.82-4.8,14.75,14.75,0,0,0-11.6,5.74c-.2.26-.4.54-.6.82A13.88,13.88,0,0,0,34.9,4.12,12.44,12.44,0,0,0,22.16.5a13.08,13.08,0,0,0-6.52,4.42A14.52,14.52,0,0,0,13,17.46a14,14,0,0,0,2.22,4.8,7,7,0,0,0,.66.86l.1.12c.18.22.38.46.6.68A18.17,18.17,0,0,0,5.76,29.24C2.34,32.82.8,35.4,0,41.94a3.36,3.36,0,0,0,0,.78l0,.32a5.31,5.31,0,0,0,2.28,3.4c4,2.86,12.54,4.08,18.32,4.52-.2,1-.34,2.08-.48,3.26a3.61,3.61,0,0,0,0,.94l0,.24a5.72,5.72,0,0,0,2.58,3.76c4.1,3,12.64,4.46,19.32,5.14.5.06,1,.1,1.52.14-.18,1-.32,2.12-.46,3.36a3.29,3.29,0,0,0,0,1v0l0,.24a6.43,6.43,0,0,0,2.92,4.22C53.7,78.8,74.4,80,79.12,80c5.46,0,28.7-1.48,34.56-8.12A5,5,0,0,0,115.1,67.76ZM61.6,31l.32-.36a5.25,5.25,0,0,0,.12.78c.06.32.14.6.2.9,0,.1.06.22.08.3l.12.4L62,33v0a13.59,13.59,0,0,0-1.5-.18,5.24,5.24,0,0,0-.68-.06,4,4,0,0,0,.54-.48A12.27,12.27,0,0,0,61.6,31ZM42.5,12.38A10.28,10.28,0,0,1,47.7,8.8a10.55,10.55,0,0,1,2.74-.4,10,10,0,0,1,7.4,3.3A11.89,11.89,0,0,1,61,19.88a1.23,1.23,0,0,1,0,.28,12.15,12.15,0,0,1-1.18,5.18,11.12,11.12,0,0,1-5.44,5.38,8.63,8.63,0,0,1-4.7.78,10.11,10.11,0,0,1-2.54-.56,9.12,9.12,0,0,1-2.38-1.28,11.57,11.57,0,0,1-1.88-1.74l-.14-.16c-.14-.18-.28-.34-.5-.66a7.2,7.2,0,0,1-.66-1A12.56,12.56,0,0,1,40.3,23a13,13,0,0,1-.38-3.06A12,12,0,0,1,42.5,12.38ZM35.52,23a10.92,10.92,0,0,0,.26,1.1c-.4-.08-.76-.14-1.06-.18A11.4,11.4,0,0,0,35.52,23ZM21.9,46.4C16,46,8,44.74,5.06,42.64a3.85,3.85,0,0,1-.36-.32c.62-5.16,1.56-6.84,4.44-9.9a13.88,13.88,0,0,1,8.18-3.9c3.24,2.06,7.78,2.14,8.32,2.14l1.18-.06a16,16,0,0,0,6.9-1.94,1.2,1.2,0,0,0,.26-.18,15.62,15.62,0,0,1,4.4,1.24v0a10.53,10.53,0,0,0,.76,1l.12.14a15.75,15.75,0,0,0,1.92,1.9h0c-2.06.12-9.14.94-14.24,6.4A22.26,22.26,0,0,0,21.9,46.4Z">
                </path></g></g></svg> <p class="qm-queue-transfer-text">Transfer first</p> </span>
            </div>  

            <div class="qm-col" *ngIf = "btnTransferSort" (click)="OnTransferButtonClick('SORTED')">
                <span class="queue-tray-option queue-transfer-waiting-btn"><svg class="qm-queue-transfer-time" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 84 84"><defs><style>.cls-1 {fill: #2b2b2b;
                }</style>
              </defs><title>TransferWT</title>
              <g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M63.53,56.71a2.76,2.76,0,0,1-3.79.9L41.13,46.12a5.05,5.05,0,0,1-2.41-4.33v-21a2.76,2.76,0,0,1,5.51,0v20.8l18.4,11.37A2.75,2.75,0,0,1,63.53,56.71Z"></path><path class="cls-1" d="M42,84A42,42,0,1,1,84,42,42,42,0,0,1,42,84ZM42,7.21A34.79,34.79,0,1,0,76.79,42,34.83,34.83,0,0,0,42,7.21Z"></path></g></g></svg>
               <p class="qm-queue-transfer-text">Based on waiting time</p> </span>
            </div>  

            <div class="qm-col" *ngIf = "btnTransferLast" (click)="OnTransferButtonClick('LAST')">
                <span class="queue-tray-option queue-transfer-last-btn" ><svg  class="qm-queue-transfer-first" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 114.47 80"><defs><style>.cls-1 {fill: #2b2b2b;
                }</style></defs><title>TransferLast</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1">
                  <path class="cls-1" d="M40.93,33.07c-2,.12-9.09.93-14.16,6.37a21.84,21.84,0,0,0-5,7.16,21.2,21.2,0,0,0-1.23,4.56c-5.75-.46-14.26-1.67-18.22-4.52A5.24,5.24,0,0,1,.07,43.28L0,42.94a3.33,3.33,0,0,1,0-.78c.74-6.51,2.29-9.05,5.67-12.63A18.21,18.21,0,0,1,16.3,24.26a12.14,12.14,0,0,0,18.72,0c.18,0,.38.06.58.1v.08A16.22,16.22,0,0,0,38.16,30s0,0,0,0c.24.36.5.68.76,1l.12.14A18.52,18.52,0,0,0,40.93,33.07Z"></path><path class="cls-1" d="M114.43,67.83c-1.07-9-3-12.47-8-17.76-6.31-6.64-15-7.36-16.73-7.44h-.44a19.49,19.49,0,0,0,7-15.18,19.3,19.3,0,0,0-5.13-13.23A17.09,17.09,0,0,0,78.54,8.64a17.63,17.63,0,0,0-4.66.66,17.24,17.24,0,0,0-8.08,5.13c-.26.28-.5.58-.76.9a5.32,5.32,0,0,0-.36.5c-.14-.5-.28-1-.44-1.39a15.92,15.92,0,0,0-3.38-5.55A14.63,14.63,0,0,0,50.12,4.13a15.86,15.86,0,0,0-4,.56,15,15,0,0,0-7.54,5.15c-.2.26-.4.52-.6.8a.72.72,0,0,0-.1.16A16.68,16.68,0,0,0,35,20.2a17.13,17.13,0,0,0,.28,3,4.38,4.38,0,0,0,.1.5c0,.2.1.4.16.6v.08A16.22,16.22,0,0,0,38.1,30s0,0,0,0c.24.36.5.68.76,1l.12.14A18.52,18.52,0,0,0,40.87,33c-2,.12-9.09.93-14.16,6.37a21.84,21.84,0,0,0-5,7.16,21.2,21.2,0,0,0-1.23,4.56c-.2,1-.36,2-.5,3.22a3.79,3.79,0,0,0,0,1l0,.22a5.65,5.65,0,0,0,2.57,3.74c4.08,2.94,12.57,4.44,19.22,5.11.5.06,1,.12,1.51.14-.18,1-.32,2.13-.48,3.34a4.14,4.14,0,0,0,0,1v0l0,.24a6.29,6.29,0,0,0,2.9,4.2C53.36,78.81,73.95,80,78.64,80c5.41,0,28.55-1.49,34.38-8.08A5.08,5.08,0,0,0,114.43,67.83ZM65.53,26.75a14.72,14.72,0,0,1,1.23-5.33,14.26,14.26,0,0,1,1.93-3.22,12.74,12.74,0,0,1,6.45-4.42,13.16,13.16,0,0,1,3.4-.5,12.42,12.42,0,0,1,9.19,4.1,14.56,14.56,0,0,1,3.9,10.07v0a14.39,14.39,0,0,1-8.2,13.37,11,11,0,0,1-5.85,1,1,1,0,0,1-.24,0,12,12,0,0,1-5.91-2.27,14.62,14.62,0,0,1-2.33-2.17L69,37.19a6.08,6.08,0,0,1-.62-.84,13.48,13.48,0,0,1-1.29-2.13A17.21,17.21,0,0,1,66,31.28a15.15,15.15,0,0,1-.48-3.78C65.51,27.24,65.51,27,65.53,26.75Zm-4.32,4.5c.08.4.18.8.28,1.19,0,0,0,.06,0,.1s.1.34.14.52l.06.2c-.66-.1-1.19-.16-1.61-.2a4.73,4.73,0,0,0-.68,0c.18-.16.38-.32.54-.48A10.73,10.73,0,0,0,61.22,31.24ZM40,23.26a12.08,12.08,0,0,1,2.19-10.54,10,10,0,0,1,7.9-4,10,10,0,0,1,7.36,3.3,11.74,11.74,0,0,1,3.14,8.12v0a1.41,1.41,0,0,1,0,.28,12.08,12.08,0,0,1-1.19,5.13A10.94,10.94,0,0,1,54,31a8.81,8.81,0,0,1-4.67.8,10.81,10.81,0,0,1-2.53-.56,10.28,10.28,0,0,1-2.39-1.29,12.39,12.39,0,0,1-1.87-1.73L42.44,28a5.59,5.59,0,0,1-.5-.64,10.75,10.75,0,0,1-.66-1A13.16,13.16,0,0,1,40,23.26Zm4.42,36.56c0,.06,0,.1,0,.14-.5,0-1-.08-1.49-.14-6.45-.64-14.42-2-17.63-4.34a2.11,2.11,0,0,1-.68-.66c.16-1.33.34-2.47.54-3.48a15.31,15.31,0,0,1,1.67-4.68,22.2,22.2,0,0,1,3.26-4.1,17,17,0,0,1,10.25-4.83,15.53,15.53,0,0,0,5.61,2.13,23,23,0,0,0,4.22.44l.56,0c.22,0,.5,0,.82,0a19.08,19.08,0,0,0,8-2.27l.46-.28a15.89,15.89,0,0,1,2.37.44,19,19,0,0,1,1.95.58c.08.1.14.2.2.28a10.93,10.93,0,0,0,.88,1.15l.14.18a21.62,21.62,0,0,0,2.35,2.31l-.44,0c-2.41.14-10.7,1.09-16.69,7.5C47.63,53.48,45.7,56.09,44.45,59.83Zm65.11,9,0,0c-3.46,3.94-20.61,6.49-30.89,6.51-7.48,0-24.59-1.75-30.2-5.79a2.52,2.52,0,0,1-1-1.11c.16-1.39.34-2.59.54-3.68a19.6,19.6,0,0,1,6.17-11.42c4.3-4.62,10.34-5.71,12.77-6a19.66,19.66,0,0,0,8,2.82c.6.08,1.11.12,1.59.16a10.1,10.1,0,0,0,1.25.08,0,0,0,0,0,.06,0,6.83,6.83,0,0,0,.76,0l1.61-.08c.32,0,.68,0,1.05-.1a20.8,20.8,0,0,0,8.41-2.55,5.84,5.84,0,0,0,.64-.42,20.84,20.84,0,0,1,12.77,5.95c4.32,4.6,5.81,7.26,6.74,15.12A1,1,0,0,1,109.56,68.82Z"></path><path class="cls-1" d="M35.45,22.32a4.41,4.41,0,0,0,.1.5c-.14.18-.28.34-.42.5a12.14,12.14,0,0,1-18.7,0l0,0A12.51,12.51,0,0,1,14.29,20v0l-.3-.7a14.39,14.39,0,0,1-1-5.41C13,6.21,18.7,0,25.78,0A13,13,0,0,1,38.06,9.87a16.67,16.67,0,0,0-2.88,9.41A17.13,17.13,0,0,0,35.45,22.32Z"></path><path class="cls-1" d="M38.42,14.79a14.39,14.39,0,0,1-3,9,4.38,4.38,0,0,1-.1-.5,17.13,17.13,0,0,1-.28-3,16.68,16.68,0,0,1,2.88-9.41,14.07,14.07,0,0,1,.52,3.7A1.54,1.54,0,0,1,38.42,14.79Z"></path><path class="cls-1" d="M38.42,11.19s-.36-1.32-.36-1.32L35.3,11.19l-.74,6.08Z"></path><path class="cls-1" d="M35.38,23.74"></path></g></g></svg> 
                <p class="qm-queue-transfer-text">Transfer last</p></span>
            </div>  

          </div>
        </div>

        </div>
      </div>
      

</div>