<div *ngIf=" visits && !visits.length" class="inner-box">
   
  <div class="no-visits-message" *ngIf="selectedQueueName">
    <p>
      <span>{{ 'no_visits_msg_line_one_left_text' | translate}}</span>&nbsp;<strong>{{selectedQueueName}}</strong>&nbsp;<span>
        {{ 'no_visits_msg_line_one_right_text' | translate}}</span>
    </p>
    <p>
      <span>{{ 'no_visits_msg_line_two_left_text' | translate}}</span>&nbsp;<span class="text-deco" (click)="goBackToQueueSection()">{{
        'no_visits_msg_line_two_right_text' | translate}}</span>
    </p>
    
  </div>

</div>

<div *ngIf="visits">
  <div class="qm-visit-list" *ngIf="visits.length>0">
    <div class="qm-visit-list__headers qm-flex-grid">
      <div class="qm-visit-list-header-item qm-col qm-flex-grid" (click)="sortByVisitId()">
        <div class="qm-visit-list-header-item-label qm-first-element-header">{{'visit' | translate}}</div>
        <div *ngIf="sortingIndicator==='VISITID'"><i class="sort-icon" [ngClass]="{'icon-caret-up': sortByVisitIdAsc === true, 'icon-caret-down': sortByVisitIdAsc !==  true }"></i></div>
      </div>
      <div class="qm-visit-list-header-item qm-col qm-flex-grid" (click)="sortByCustomer()">
        <div class="qm-visit-list-header-item-label">{{'visit_customer_label' | translate}}</div>
        <div *ngIf="sortingIndicator==='CUSTOMER'"><i class="sort-icon" [ngClass]="{'icon-caret-up': sortByCustomerAsc === true, 'icon-caret-down': sortByCustomerAsc !==  true }"></i></div>
      </div>

      <div class="qm-visit-list-header-item qm-col qm-flex-grid" (click)="sortByService()">
        <div class="qm-visit-list-header-item-label"> {{ 'visit_service_label' | translate}} </div>
        <div *ngIf="sortingIndicator==='SERVICE'"><i class="sort-icon" [ngClass]="{'icon-caret-up': sortByServiceAsc === true, 'icon-caret-down': sortByServiceAsc !==  true }"></i></div>
      </div>

      <div class="qm-visit-list-header-item qm-col qm-flex-grid" (click)="sortByAppTime()">
        <div class="qm-visit-list-header-item-label"> {{ 'visit_appointment_time_label' | translate}} </div>
        <div *ngIf="sortingIndicator==='APPTIME'"><i class="sort-icon" [ngClass]="{'icon-caret-up': sortByAppTimeAsc === true, 'icon-caret-down': sortByAppTimeAsc !==  true }"></i></div>
      </div>


      <div class="qm-visit-list-header-item qm-col qm-flex-grid">
        <div class="qm-visit-list-header-item-label"> {{ 'visit_wait_time_label' | translate}} </div>
      </div>

    </div>

    <div *ngIf="visits.length" class="qm-visit-list__body">
       
      <div class="qm-visit-list-body-row-container" *ngFor="let visit of visits; index as i" >
         
        <div (click)="selectVisit(i,visit.visitId)" class="qm-flex-grid qm-visit-list-body-row" [ngClass]="{'qm-visit-list-body-row-selected':  visits && visitClicked && selectedVisitId === visit.visitId}">
          <div class="qm-col qm-visit-list-body-row-caret-view">
            <div class="qm-visit-list-body-row-label qm-first-element"> {{visit.ticketId}} </div>
          </div>
          <div class="qm-col">{{visit.customerName }}</div>
          <div class="qm-col "> {{visit.serviceName }} </div>
          <div class="qm-col "> {{getAppointmentTime(visit)}}</div>
          <div class="qm-col">{{ visit.waitingTimeStr }}</div>
        </div>
            <!-- Edit visit options -->
        <div *ngIf="visitClicked && selectedVisitId === visit.visitId" class="qm-visit-list__options">
          <div class="triangle-with-shadow"></div>
          <div class="qm-visit-list__options__rec">
            <div class="qm-visit-list__options__heading">
              <div class="qm-title">
                {{'visit_options'|translate}}
              </div>
              <div class="qm-icon">
                <i class="icon-close"  (click)="selectVisit(i,visit.visitId)"></i>
              </div>

            </div>
            <div class="qm-visit-list__options__container">

              <span *ngIf="canTransferQ" class="visit-tray-option visit-transfer-queue-btn" >
                <span class="content" (click)="transferToQ(visit)">
                  <span class="icon">
                    <i class="icon-queue"></i>
                  </span>
                  <span class="label">
                    {{'transfer_visit_queue_header_simple' | translate}}
                  </span>
                </span>
              </span>
              <span *ngIf="canTransferStaff" class="visit-tray-option visit-transfer-staff-btn" >

                <span class="content" (click)="transferToStaffPool(visit)">
                  <span class="icon">
                    <i class="icon-customer-solid"></i>
                  </span>
                  <span class="label">
                    {{'transfer_visit_user_pool_header_simple' | translate}}
                  </span>
                </span>
              </span>
              <span *ngIf="canTransferSP" class="visit-tray-option visit-transfer-sp-btn" >
                <span class="content" (click)="transferToSPfPool(visit)">
                  <span class="icon">
                    <i class="icon-screen"></i>
                  </span>
                  <span class="label">
                    {{'transfer_visit_sp_pool_header_simple' | translate}}
                  </span>
                </span>
              </span>

              <div style="display:flex;width: 66%;margin: auto;">
                <span *ngIf="canDelete" class="visit-tray-option-bottom visit-delete-btn" (click)="deleteVisit(i,$event)">
                  <span class="bottom-icon-container">
                    <span class="icon"> <i class="icon-delete"></i></span>
                    <span class="content">{{'remove' | translate}}</span>
                  </span>
                </span>
                <span *ngIf="canCherryPick" class="visit-tray-option-bottom  visit-cherry-pick-btn" (click)="cherryPickVisit(i,$event)" [ngStyle]="{'cursor': dsOrOutcomeExists && canCherryPick ? '' : 'pointer'}">
                  <span class="bottom-icon-container">
                    <span class="icon" [ngStyle]="{'color': dsOrOutcomeExists && canCherryPick ? '#bdbdbd' : '#E50046'}"> <i class="icon-check"></i></span>
                    <span class="content" [ngStyle]="{'color': dsOrOutcomeExists && canCherryPick ? '#bdbdbd' : '#E50046'}"> {{'serve'| translate}}</span>
                  </span>
                </span>
              </div>
            </div>
          </div>
        </div>
        <!-- second options -->
        <!-- <div class="qm-visit-list__options" *ngIf="visitClicked && selectedVisitId === visit.visitId">
            <div class="triangle-with-shadow"></div>
            <div class="qm-visit-list__options__rec">
                <div class="qm-visit-list__options__heading">
                    <div class="qm-title">
                      STAFF MEMBER
                    </div>
                    <div class="qm-icon">
                      <i class="icon-close"  (click)="selectVisit(i,visit.visitId)"></i>
                    </div>
                </div>
                <qm-transfer-to-staff-pool></qm-transfer-to-staff-pool>
          </div>
        </div> -->
      </div>
    </div>
  </div>
</div>